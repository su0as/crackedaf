{
    "rules": {
      "stories": {
        ".read": true,
        ".write": "auth != null && root.child('admins').child(auth.uid).exists()",
        "$storyId": {
          ".validate": "newData.hasChildren(['title', 'url', 'category', 'time', 'score', 'approved'])",
          "score": {
            ".write": true
          }
        }
      },
      "pendingStories": {
        ".read": true,
        ".write": true,
        "$storyId": {
          ".validate": "newData.hasChildren(['title', 'url', 'category', 'time', 'score'])",
          "score": {
            ".validate": "newData.val() == 1"
          },
          "time": {
            ".validate": "newData.val() == now"
          },
          "approved": {
            ".validate": "newData.val() == false"
          }
        }
      },
      "admins": {
        ".read": true,
        ".write": true
      }
    }
  }